jQuery(function($){let bookingEntry=$(".detail-booking-entrypoint");if(bookingEntry.length>0){let bookingEntryTransportType=$('.booking-filter-radio--transport-type input[type="radio"]');let bookingEntryAirportField=$(".booking-filter-item--airport");bookingEntryTransportType.on("change",function(e){var thisType=$(this).val();if(thisType=="FLUG"){bookingEntryAirportField.removeClass("d-none")}else{bookingEntryAirportField.addClass("d-none")}});let bookingEntryCalendar=$(".booking-filter-field--date-range");let bookingEntryCalendarRenderTarget=$("#booking-entry-calendar");let bookingEntryCalendarServiceUrl="/wp-content/themes/travelshop/pm-ajax-endpoint.php?action=detail-booking-calendar";bookingEntryCalendar.on("click touch",function(e){e.preventDefault();var getTransportType,getAirport,getDur,getOffer,getMediaObject=null;getTransportType=$('.booking-filter-radio--transport-type input[type="radio"]:checked').val();getDur=$(".booking-filter-field--duration").val();getOffer=$(".booking-filter-field--offer").val();getMediaObject=$(".booking-filter-field--mediaobject").val();if(getTransportType==="FLUG"){getAirport=bookingEntryAirportField.find('input[type="radio"]:checked').val()}renderBookingCalendar(getTransportType,getAirport,getDur,getOffer,getMediaObject);e.stopPropagation()});function setDateActive(dateID,duration){}function requestHandlerBookingCalendar(request){$.ajax({url:bookingEntryCalendarServiceUrl,data:request,type:"POST",dataType:"html",beforeSend:function(xhr){console.log("before send");bookingEntryCalendarRenderTarget.addClass("is-loading")},success:function(data){bookingEntryCalendarRenderTarget.html(data);bookingEntryCalendarRenderTarget.removeClass("is-loading");bookingCalendarInteraction()}})}function refreshBookingCalendar(transportType,airport,duration,offer,mediaObject){renderBookingCalendar(transportType,airport,duration,offer,mediaObject)}function bookingCalendarInteraction(){var travelDate=bookingEntryCalendarRenderTarget.find(".travel-date a");var durationSwitch=bookingEntryCalendarRenderTarget.find(".booking-entrypoint-calender-duration button");durationSwitch.on("click touch",function(e){e.preventDefault();if(!$(this).hasClass("active")){var getAirport=null;var getDur=$(this).data("duration");var getTransportType=$('.booking-filter-radio--transport-type input[type="radio"]:checked').val();var getOffer=$(".booking-filter-field--offer").val();var getMediaObject=$(".booking-filter-field--mediaobject").val();if(getTransportType==="FLUG"){getAirport=bookingEntryAirportField.find('input[type="radio"]:checked').val()}durationSwitch.removeClass("active");$(this).addClass("active");refreshBookingCalendar(getTransportType,getAirport,getDur,getOffer,getMediaObject)}e.stopPropagation()});travelDate.on("click touch",function(e){e.preventDefault();var thisTravelDate=$(this);var thisTravelDateID=thisTravelDate.data("anchor");var thisTravelDateRange=thisTravelDate.data("daterange");var thisTravelDateDur=parseInt(thisTravelDate.data("duration"));bookingEntryCalendarRenderTarget.find(".active-duration").removeClass("active-duration");bookingEntryCalendarRenderTarget.find(".active-duration-last").removeClass("active-duration-last");thisTravelDate.parent().addClass("active-duration");var thisTravelDateNext=thisTravelDate.parent();for(var i=1;i<thisTravelDateDur;i++){thisTravelDateNext=thisTravelDateNext.next();if(!thisTravelDateNext.hasClass("is-blank")){thisTravelDateNext.addClass("active-duration");if(i===thisTravelDateDur-1){thisTravelDateNext.addClass("active-duration-last")}}}$(".booking-filter-field--offer").val(thisTravelDateID);$(".booking-filter-field--duration").val(thisTravelDateDur);$(".booking-filter-item--date-range .booking-filter-field--text").text(thisTravelDateRange);e.stopPropagation()})}function renderBookingCalendar(transportType,airport,duration,offer,mediaObject){var calendarRequest={"pm-tr":transportType,airport:airport,"pm-du":duration,offer:offer,media_object_id:mediaObject};console.log(calendarRequest);requestHandlerBookingCalendar(calendarRequest)}}});